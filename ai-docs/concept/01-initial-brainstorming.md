# Code Inventory - Initial Brainstorming

## Kern Idee

Ich möchte gerne eine Applikation erstellen, die mir eine Übersicht verschafft über alle Projekte, an denen ich gearbeitet habe in den letzten Jahren bis Jahrzehnten. Hintergrund ist, dass ich sehr viele Spikes und angefangene Projekte erstellt habe. Die meisten davon befinden sich aktuell, weil ich sie immer wieder auschecke, auf meiner Festplatte unterhalb eines Verzeichnisses. Es gibt auch Projekte die jetzt nur auf GitHub sind und eventuell noch einige Projekte die in anderen Umgebungen auf einem Notebook beispielsweise verweilen. Die meisten dieser Projekte haben einen Git Repository mindestens lokal. Die meisten auch irgendwie gepusht Richtung GitHub oder GitLab. Ich habe auch verschiedene Upstream Repositories dazu und einige haben aber also einige wenige wurden nicht initialisiert, das heißt, da gibt es kein Git Repository und in einigen gibt es auch uncommittede Changes.

Ich möchte gerne jetzt eine Übersicht generieren über alle Projekte, an denen ich jemals gearbeitet habe, inklusive ihrer Commit-Historie, damit wir die Zeitlinie haben, und der Übersicht über die uncommitted Changes und von den uncommitted Changes den letzten File Change Date, damit man ungefähr ein Gefühl dafür hat, wann zuletzt an diesen Projekten gearbeitet wurde.

Ich will zunächst mal noch nicht inhaltlich drauf schauen was die Projekte machen das wäre quasi das Nächste sondern meine Grundidee ist dass ich im Prinzip die komplette Git-Commit Historie in eine zentrale Datenbank rein speichere pro Projekt mit einer Deduplizierung das heißt eine über alle Projekte übergreifende Commit Historie erstelle inklusive eines Pseudo-Commits wo ich im Prinzip die Un-Commit Informationen darstellen möchte die zurzeit sich im noch im un-committet Zustand befinden und als Timestamp dazu die letzte Dateiänderung an der letzten un-committeten Datei.

Ich möchte dazu ein Backend-Tool erstellen, das in der Lage ist, ein Root-Verzeichnis entgegenzunehmen, dort zu crawlen, alle Unterverzeichnisse zu finden, zu gucken, ob sich in diesen Unterverzeichnissen Code befindet Ob es dort ein Git Repo gibt. Wenn es ein Git Repo gibt dann die Git Historie über alle Branches zu holen und im Prinzip nur die historischen Informationen ohne den Code Deltas oder irgendetwas und nur die historischen Informationen in eine Datenbank zu speichern.

Dann möchte ich im Prinzip das gleiche Tool mit einer Liste von GitHub Repos speichern können. Erstmal nur GitHub oder wir können auch einfach Git URLs machen. So dass wir im Prinzip die Historie auch noch von Remote-Projekten an denen ich gearbeitet habe auch noch holen können und hinzufügen können. Anhand der Commit IDs muss das Ganze natürlich detupliziert werden. Das heißt die werden bis zum großen Teil werden detupliziert sein und das gleiche ist wenn ich das über mehrere Rechner machen an denen ich gearbeitet habe wo sich das gleiche Repo ausgecheckt hat muss natürlich auch detupliziert werden. Das heißt ich möchte am Ende des Tages möchte ich im Prinzip eine Übersicht haben wann habe ich an welchen Projekten gearbeitet und quasi ja so eine komplette Projektübersicht mit einer Zeitlinie

Das möchte ich in einem nächsten Schritt dann visualisieren. Das heißt, ich möchte im Prinzip eine Visualisierung dann haben, wann ich woran gearbeitet habe. Man kann eventuell dann auch ein bisschen die Intensität machen, das heißt die Lines of Code Change oder so was, aber das ist jetzt uninteressant. Zunächst mal geht es nur darum zu visualisieren, wann ich an was gearbeitet habe. Und diese Übersicht soll dann auch als Background dafür dienen, dass ich dann über eine KI-Code-Analyse mir versuche rauszuziehen, was der Inhalt des Projekts ist und wie der aktuelle Bearbeitungsstand ist. Also da gehören dann Sachen dazu wie Frameworks, Tooling, Stacks und ähnliche Dinge und quasi so eine Fortschrittshistorie und wie viel Effort circa reingegangen ist.

Letzte Iteration wäre dann noch, ich habe zusätzlich zu diesen Informationen noch ein Tool, das heißt ManicTime, das ich seit Jahrzehnten nutze. Das im Prinzip meine gesamte Historie bei der Projektbearbeitung auf den verschiedenen Rechnern mittrackt. Das heißt, ich habe im Prinzip eine sekundengenaue Historie, wie lange beispielsweise Virtual Studio Code offen war, mit welchen Dateien. Und in einem letzten Schritt könnte man dann diese Informationen auch noch verarbeiten um ein besseres Gefühl dafür zu bekommen welche also wie viel Zeit und wie viel Invest bereits in welches Projekt reingelaufen ist.

Von der Architektur her stelle ich mir vor dass ich das Projekt als dotnet-Projekt gerne erstellen würde. Es muss in der Lage sein auf Linux und auf Windows zu crawlen das File System. Es muss in der Lage sein über das Web die Githistorie abzurufen. Wir können sie theoretisch auch auschecken über eine Kommandozeile. Das einfacher ist als die github-API beispielsweise und ich möchte im Prinzip als Input möchte ich das Projekt wird ins also die das backend wird auf mehreren rechner installiert werden und als Input möchte ich im prinzip eine Liste von root directories angeben können plus eine Liste von urls und wenn ich das ganze Trigger entweder zeitgesteuert oder per per klick über ein UI oder über eine Kommandozeile dann soll er im prinzip die komplette Analyse fahren und über alles was da drin steht und alles ergänzen was sich seit dem letzten Lauf geändert hat so dass ich quasi das muss idempotent sein so dass ich im prinzip jederzeit eine Übersicht bekommen kann über das was ich so getan habe und das über eine sehr lange Strecke rückwärts.


## Architektur

- .NET 9 WebAPI Backend mit Background Workern
- .NET 9 Blazor Frontend
- Postgres als Backend für Historie